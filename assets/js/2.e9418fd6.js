(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{169:function(t,e,r){t.exports=r.p+"assets/img/debugger-chrome.9bdb7c27.jpeg"},170:function(t,e,r){t.exports=r.p+"assets/img/react-devtools.84ab386b.jpeg"},171:function(t,e,r){t.exports=r.p+"assets/img/run-iphone.f04458c2.png"},250:function(t,e,r){"use strict";r.r(e);var a=[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"reactnative-mac调试技巧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reactnative-mac调试技巧","aria-hidden":"true"}},[this._v("#")]),this._v(" ReactNative Mac调试技巧")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"调试技巧清单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调试技巧清单","aria-hidden":"true"}},[this._v("#")]),this._v(" 调试技巧清单")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",[r("li",[r("p",[t._v("React Native调试菜单")])]),t._v(" "),r("li",[r("p",[t._v("chrome developer tool")])]),t._v(" "),r("li",[r("p",[t._v("react-devtools")])]),t._v(" "),r("li",[r("p",[t._v("Charles抓包工具")])]),t._v(" "),r("li",[r("p",[t._v("真机调试")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"react-native调试菜单"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-native调试菜单","aria-hidden":"true"}},[this._v("#")]),this._v(" React Native调试菜单")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Command⌘ + D")]),this._v("即可调出调试菜单，里面有我们经常使用的调试功能。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://raw.githubusercontent.com/crazycodeboy/RNStudyNotes/master/React%20Native%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%E4%B8%8E%E5%BF%83%E5%BE%97/images/Developer%20Menu.jpg",alt:"Developer Menu"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("提示：如果"),e("code",[this._v("Command⌘ + D")]),this._v('无法打开，是因为模拟器与键盘断开连接了，可以在Xcode中Hardware menu->Keyboard->"Connect Hardware Keyboard"')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"reload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reload","aria-hidden":"true"}},[this._v("#")]),this._v(" Reload")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("重新编译App，相当于Web的F5。快捷键"),e("code",[this._v("Command⌘ + R")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"hot-reloading"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hot-reloading","aria-hidden":"true"}},[this._v("#")]),this._v(" Hot Reloading")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"enable-live-reload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enable-live-reload","aria-hidden":"true"}},[this._v("#")]),this._v(" Enable Live Reload")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"show-inspector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#show-inspector","aria-hidden":"true"}},[this._v("#")]),this._v(" Show Inspector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"chrome-developer-tools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chrome-developer-tools","aria-hidden":"true"}},[this._v("#")]),this._v(" Chrome Developer Tools")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"第一步：启动远程调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步：启动远程调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 第一步：启动远程调试")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"第二步：打开开发者工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步：打开开发者工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 第二步：打开开发者工具")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("快捷键："),e("code",[this._v("Command⌘ + Option⌥ + I")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"第三部：断点调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三部：断点调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 第三部：断点调试")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:r(169),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("tips：在控制台(Console)上打印变量，执行脚本等操作。在开发调试中非常有用")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"react-devtools"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-devtools","aria-hidden":"true"}},[this._v("#")]),this._v(" react-devtools")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("npm install -g react-devtools\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("react-devtools\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:r(170),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("tips:该工具同样支持ReactJS哦")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"charles抓包工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#charles抓包工具","aria-hidden":"true"}},[this._v("#")]),this._v(" Charles抓包工具")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"真机调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#真机调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 真机调试")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"iphone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iphone","aria-hidden":"true"}},[this._v("#")]),this._v(" IPhone")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("目前网上大部分真机调试的文章都是基于以前的版本，在笔者最新的版本"),e("code",[this._v("v0.52")]),this._v("已经不再需要代码替换IP地址来得到打包的JSBundle。IOS本机测试需要Apple ID账号，如果需要发布到AppStore，则需要Devloper ID。经过测试，流程如下：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("USB连接真机，xcode中设备选择真机")])]),this._v(" "),e("li",[e("p",[this._v("单击项目名，Target的ProjectName和ProjectNameTest中"),e("strong",[this._v("Signing")]),this._v("选项，Team中选择你已经绑定到Apple ID账号。如果没有选择列表，该地方会让你登陆一个账号。")])]),this._v(" "),e("li",[e("p",[this._v("单击运行即可在真机中查看App运行。晃动手机也可以调出调试菜单")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:r(171),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"android"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#android","aria-hidden":"true"}},[this._v("#")]),this._v(" Android")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("使用adb reverse命令。"),e("code",[this._v("adb reverse tcp:8081 tcp:8081")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("晃动设备，打开开发者菜单，点击"),e("code",[this._v("Dev Settings")]),this._v(" -> "),e("code",[this._v("Debug server host for device")]),this._v(" -> 输入本机IP和8081端口")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("完成后晃动设备，选择"),e("code",[this._v("Reload JS")]),this._v("即可")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"相关链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相关链接","aria-hidden":"true"}},[this._v("#")]),this._v(" 相关链接")])}],s=r(0),i=Object(s.a)({},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p",[t._v("工欲善其事，必先利其器。上篇文章快读搭建并运行一个App应用，但离工程化开发还是远不够的。调试程序是开发过程中必不可少的，高效的调试技能可以提高开发效率，也可以及时发现bug。")]),t._v(" "),r("p",[t._v("启动RN应用时，同时会启一个package server的node应用（可以理解为webpack功能），每次修改js代码，不需要重新run xcode，该server服务会把最新的js代码编译并提供给Native代码调用。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),r("p",[t._v("热加载，做过Webpack工程化项目的人再熟悉不过。如果每次修改代码后需要手动刷新，效率值大大降低，热加载可以在保存代码后，自动进行增量包编译，实现模拟器的自动刷新。")]),t._v(" "),t._m(10),t._v(" "),r("p",[t._v("ReactNative还给开发者提供了自动刷新的功能，也可以对代码自动刷新。这里和Hot Reloading的区别是Live Reload是全量刷新，每次保存代码都会自动生成bundle包并发送到手机上，使得应用初始化。")]),t._v(" "),t._m(11),t._v(" "),r("p",[t._v("方便的查看到当前选中元素的位置、样式、层级关系、盒子模型信息等等，类似Chrome Elements Tab")]),t._v(" "),t._m(12),t._v(" "),r("p",[t._v("强大的Chrome可以像调试js那样来调试React Native应用。方式类似webpack的sourcemap，可以对源代码进行断点调试")]),t._v(" "),t._m(13),t._v(" "),r("p",[t._v('在Developer Menu下单击"Debug JS Remotely" 启动JS远程调试功能。Chrome自动打开Tab页：“http://localhost:8081/debugger-ui”')]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),r("p",[t._v("选中需要调试的代码行。")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),r("p",[t._v("rn调试菜单'Show Inspector'虽然可以让开发者可以看到层级和相关样式，但展现在app中过小，也无法像Chrome elements一样，实时修改。这里推荐使用react-devtools工具，让你轻松完成这一切。配合debugger或show inspector更强大")]),t._v(" "),r("p",[t._v("安装")]),t._v(" "),t._m(20),r("p",[t._v("使用")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),r("p",[t._v("reactnative的网络请求，在chrome中无法捕捉，所以需要使用抓包工具查看网络请求详细信息。Mac推荐"),r("a",{attrs:{href:"https://www.charlesproxy.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Charles"),r("OutboundLink")],1),t._v("工具")]),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),r("ol",[r("li",[r("p",[t._v("根目录下执行"),r("code",[t._v("npm start")]),t._v(",确保package server启动,"),r("a",{attrs:{href:"http://localhost:8081",target:"_blank",rel:"noopener noreferrer"}},[t._v("localhost:8081"),r("OutboundLink")],1),t._v("可以访问")])]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33)]),t._v(" "),t._m(34),t._v(" "),r("p",[r("a",{attrs:{href:"https://reactnative.cn/docs/0.51/debugging.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React中文网"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/facebook/react-devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-devtools"),r("OutboundLink")],1)])])},a,!1,null,null,null);e.default=i.exports}}]);