(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{453:function(t,e,a){"use strict";a.r(e);var _=a(1),v=Object(_.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"http缓存详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http缓存详解","aria-hidden":"true"}},[t._v("#")]),t._v(" Http缓存详解")]),t._v(" "),a("p",[t._v("Pragma、Expires、Cache-Control、Etag 和 Last-Modified 来设置 HTTP 缓存")]),t._v(" "),a("p",[a("code",[t._v("强缓存")]),t._v("：让客户端决定是否向服务器发送请求（在chrome下表现为200 from cache）")]),t._v(" "),a("ul",[a("li",[t._v("http1.0\n"),a("ul",[a("li",[t._v("Expires"),a("sup",[a("code",[t._v("通用")])]),t._v("。启用缓存和定义缓存时间。时间是相对服务器")]),t._v(" "),a("li",[t._v("Pragma"),a("sup",[a("code",[t._v("通用")])]),t._v("。禁用缓存，字段值为no-cache的时候")])])]),t._v(" "),a("li",[t._v("http1.1\n"),a("ul",[a("li",[t._v("Cache-Control"),a("sup",[a("code",[t._v("通用")])]),t._v("。启用缓存/禁用缓存/定义时间（max-age相对时间）")])])])]),t._v(" "),a("p",[t._v("优先级从高到低分别是 Pragma -> Cache-Control -> Expires 。")]),t._v(" "),a("p",[a("code",[t._v("对比缓存")]),t._v("：让客户端与服务器之间能实现缓存文件是否更新的验证。")]),t._v(" "),a("ul",[a("li",[t._v("Last-Modified"),a("sup",[a("code",[t._v("响应")])]),t._v("。响应时，告诉浏览器资源的最后修改时间。")]),t._v(" "),a("li",[t._v("If-Modified-Since"),a("sup",[a("code",[t._v("请求")])]),t._v("。再次请求时，发送Last-Modified值。服务器拿到对比文件修改时间，没修改304，有修改200。")])]),t._v(" "),a("p",[a("code",[t._v("协商缓存")]),t._v("：因为存在文件修改，但内容没改，所以另外一种方式通过ETag数据比对（优先级高于Last-Modified / If-Modified-Since）")]),t._v(" "),a("ul",[a("li",[t._v("ETag"),a("sup",[a("code",[t._v("响应")])]),t._v("。")]),t._v(" "),a("li",[t._v("If-None-Match"),a("sup",[a("code",[t._v("请求")])]),t._v("。")])]),t._v(" "),a("blockquote",[a("p",[t._v("通用首部字段，这意味着它能分别在请求报文和响应报文中使用")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://images2015.cnblogs.com/blog/632130/201702/632130-20170210141453338-1263276228.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://imweb.io/topic/5795dcb6fb312541492eda8c",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTTP缓存控制小结"),a("OutboundLink")],1)])])])},[],!1,null,null,null);e.default=v.exports}}]);