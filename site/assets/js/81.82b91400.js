(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{399:function(t,s,n){"use strict";n.r(s);var a=n(9),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"promise"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#promise","aria-hidden":"true"}},[t._v("#")]),t._v(" Promise")]),t._v(" "),n("p",[t._v("回调函数表达异步和并发有两个主要缺陷："),n("code",[t._v("缺乏顺序性和可信任性")]),t._v("。\nPromise封装了依赖时间的状态--等待底层值的完成或拒绝，所以Promise本身与时间无关。因此Promise可以按照可预测的方式组成（组合），而不用关心时序或底层的结果。\n另外，一旦Promise决议，它就永远保持在这个状态。")]),t._v(" "),n("p",[t._v("Promise解决了因只用回调的代码而备受困扰的"),n("code",[t._v("控制反转")]),t._v("问题。\n但Promise也没有摈弃回调，只是把回调的安排转交给一位可信任的中介机制。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("Promise States\n"),n("span",{attrs:{class:"token constant"}},[t._v("A")]),t._v(" promise must be "),n("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" one "),n("span",{attrs:{class:"token keyword"}},[t._v("of")]),t._v(" three states"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pending"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fulfilled"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" or rejected"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\nThe then Method\n"),n("span",{attrs:{class:"token constant"}},[t._v("A")]),t._v(" promise must provide a then method to access its current or eventual value or reason"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{attrs:{class:"token constant"}},[t._v("A")]),t._v(" promise’s then method accepts two arguments"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\npromise"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("then")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onFulfilled"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onRejected"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nthen must "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a promise \n")])])])])},[],!1,null,null,null);e.options.__file="2.js-base-promise.md";s.default=e.exports}}]);