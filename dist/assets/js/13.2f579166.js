(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{215:function(a,t,e){"use strict";e.r(t);var s=e(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"nginx反向代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx反向代理","aria-hidden":"true"}},[a._v("#")]),a._v(" Nginx反向代理")]),a._v(" "),e("h2",{attrs:{id:"什么是反向代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是反向代理","aria-hidden":"true"}},[a._v("#")]),a._v(" 什么是反向代理")]),a._v(" "),e("p",[a._v("当我们有一个服务器集群，并且服务器集群中的每台服务器的内容一样的时候，同样我们要直接从个人电脑访问到服务器集群服务器的时候无法访问，必须通过第三方服务器才能访问集群")]),a._v(" "),e("p",[a._v("这个时候，我们通过第三方服务器访问服务器集群的内容，但是我们并不知道是哪一台服务器提供的内容，此种代理方式称为反向代理。")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2016/11/30/fa276a0b51bdf992f5ceaeea3d698a17.png?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),a._v(" "),e("p",[e("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2016/11/29/c53a707e65c569f1ff35cef04ecc5435.png?imageView2/0/w/1280/h/960/format/webp/ignore-error/1",alt:""}})]),a._v(" "),e("h2",{attrs:{id:"反向代理优点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#反向代理优点","aria-hidden":"true"}},[a._v("#")]),a._v(" 反向代理优点")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("保护网站安全，所有请求都先经过代理服务器。")])]),a._v(" "),e("li",[e("p",[a._v("负载均衡，把请求转发到压力较小的服务器。")])]),a._v(" "),e("li",[e("p",[a._v("可以做一些中间层设置，比如缓存静态资源")])])]),a._v(" "),e("h2",{attrs:{id:"nginx基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx基础","aria-hidden":"true"}},[a._v("#")]),a._v(" Nginx基础")]),a._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("brew install nginx\nnginx -v // 显示版本号则安装成功\n")])])]),e("h3",{attrs:{id:"命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 命令")]),a._v(" "),e("p",[a._v("nginx目录")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /usr/local/etc/nginx\n")])])]),e("p",[a._v("启动nginx")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nginx // 默认8080端口启动成功，可访问http://localhost:8080/\n")])])]),e("p",[a._v("关闭nginx")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nginx -s stop\n")])])]),e("p",[a._v("重启nginx")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("nginx -s reload // 每次修改完nginx.conf文件就需要重启nginx\n")])])]),e("h3",{attrs:{id:"config配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#config配置","aria-hidden":"true"}},[a._v("#")]),a._v(" config配置")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# 虚拟主机配置\nserver {\n    server_name test-openai.com; # 请求到达的服务器名\n    listen 80;\n    listen 443 ssl;\n\n    # 对 / 所有做负载均衡+反向代理\n    location / {\n        proxy_pass http://dramatic-offical-website; # 代理\n    }\n\n    # 静态文件，nginx自己处理\n    location /images/ {\n        root /data; # 映射到/data目录下\n    }\n}\n\n# 设定负载均衡后台服务器列表\nupstream dramatic-offical-website {\n    server 10.192.106.133;\n    server 10.192.106.134;\n}\n\n")])])])])}],!1,null,null,null);n.options.__file="nginx.md";t.default=n.exports}}]);